!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=e=>{e.preventDefault();const t=e.target,n=t.closest(".module__title"),o=n.parentNode.querySelector(".module__list-wrapper"),a="true"===t.getAttribute("aria-expanded");t.removeEventListener("click",r),a?(n.classList.remove("module__title--active"),o.style.maxHeight=0,o.addEventListener("transitionend",()=>{o.style.display="none",t.addEventListener("click",r)},{once:!0})):(o.style.display="block",n.classList.add("module__title--active"),o.style.maxHeight=o.scrollHeight+"px",o.addEventListener("transitionend",()=>{t.addEventListener("click",r)},{once:!0})),t.setAttribute("aria-expanded",!a)},o=document.querySelector(".main__stream-progress"),a=(e,t)=>{const n=(e=>{const t=document.createElement("ul");return t.classList.add("module__list"),e.forEach(e=>{const n=document.createElement("li");n.classList.add("module__item"),n.textContent=e,t.append(n)}),t})(e.specializedSubjects.slice(5*t,5*t+5));if(0===n.childNodes.length)return"";const o=document.createElement("section");o.classList.add("specialty__module","module");const a=document.createElement("h4");a.classList.add("module__title"),a.textContent=t+1+" модуль",a.append((()=>{const e=document.createElement("button");return e.classList.add("module__button"),e.type="button",e.ariaExpanded="false",e.innerHTML='<span class="visually-hidden">Открыть/скрыть секцию</span>',e.addEventListener("click",r),e})());const s=document.createElement("div");return s.classList.add("module__list-wrapper"),s.append(n),o.append(a,s),o},s=window.matchMedia("(min-width: 900px)");var l,c;l=e=>{const t=[];for(let r=0;r<5;r++)t.push((n=e.data)[Math.floor(n.length*Math.random())]);var n;let r=0;!function e(){o.before((e=>{const t=document.createElement("section");t.classList.add("main__specialty","specialty");const n=document.createElement("h3");n.classList.add("specialty__title"),n.textContent=e.title,t.append(n);for(let n=0;n<2;n++)t.append(a(e,n));return t})(t[r])),r++,r>=t.length||requestAnimationFrame(e)}()},c=()=>{const e=document.createElement("p");e.classList.add("main__stream-error"),e.textContent="Ошибка загрузки. Обновите страницу",o.before(e)},fetch("https://ipo-cp.ru/api/v1/bootcamps/605c5f71bc557b46b4f42a56/courses").then(e=>{if(e.ok)return e.json();throw new Error(`${e.status} ${e.statusText}`)}).then(l).catch(c),s.addEventListener("change",e=>{if(!e.matches)return;const t=Array.from(document.querySelectorAll(".module__title--active"));t.length>0&&t.forEach(e=>{e.querySelector(".module__button").setAttribute("aria-expanded","false"),e.classList.remove("module__title--active")});Array.from(document.querySelectorAll(".module__list-wrapper")).forEach(e=>{e.removeAttribute("style")})})}]);
//# sourceMappingURL=index.bundle.js.map